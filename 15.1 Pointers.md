## üìç Pointers and Memory

Pointers are a crucial concept in Go that allow you to pass a **memory address** of a value instead of the value itself. This is fundamental for efficiency and for enabling functions to **modify** variables passed into them.

### Defining and Using Pointers

A pointer holds the **memory address** of a variable.

|**Operator**|**Name**|**Purpose**|**Example**|
|---|---|---|---|
|**`*`** (Asterisk)|**Type Descriptor**|Used to define a pointer type (e.g., `*int` is a pointer to an integer).|`var p *int`|
|**`&`** (Ampersand)|**Address-of**|Used to get the memory address of a variable.|`p = &i` (p holds the address of i)|
|**`*`** (Asterisk)|**Dereference**|Used to access the value stored at a pointer's memory address.|`fmt.Println(*p)`|

#### Example: Pointer Basics

Go

```
package main

import "fmt"

func main() {
    i := 42 
    
    // p is a pointer to an integer (*int)
    p := &i  // Get the memory address of i
    
    fmt.Println("Value of i:", i)      // Output: 42
    fmt.Println("Address of i:", p)    // Output: 0x... (memory address)
    fmt.Println("Value via p:", *p)    // Output: 42 (Dereferencing p)
    
    *p = 21 // Change the value at the address p points to
    
    fmt.Println("i is now:", i)      // Output: 21 (i has changed)
}
```

### 11.2 Pointers in Functions: Passing by Reference

Go primarily uses **pass-by-value**, meaning when you pass a variable to a function, a **copy** of that variable is made. To allow a function to modify the original value, you must pass a pointer (i.e., pass the address).

#### Example: Modifying an Original Value

Go

```
package main

import "fmt"

// The receiver 'val' is a pointer to an int (*int)
func zeroValue(val *int) {
    // Dereference val to access the original memory location, and set it to 0
    *val = 0 
}

func main() {
    x := 5
    // Pass the ADDRESS of x to the function
    zeroValue(&x) 
    
    fmt.Println("x after zeroValue:", x) // Output: x after zeroValue: 0
}
```

### The `new` Function

The built-in **`new(T)`** function is a shorthand for allocating memory for a new zero-valued item of type `T` and returning a **pointer** to it.

Go

```
// Creates a new integer variable initialized to 0 (the zero value for int)
// and returns a pointer to it.
p := new(int) 
*p = 50 // Sets the value to 50
```

**Note:** Pointers to structures are common. When accessing a field via a struct pointer (e.g., `p.Field`), Go automatically **dereferences** the pointer for you (you don't need `(*p).Field`).